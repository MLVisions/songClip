<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot wave channels of audio file — plot_wave_audio • songClip</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot wave channels of audio file — plot_wave_audio"><meta property="og:description" content="Plot wave channels of audio file
New plotting method
Original plotting method
Process Wave channel"><meta property="og:image" content="https://mlvisions.github.io/songClip/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">songClip</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MLVisions/songClip" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot wave channels of audio file</h1>
    
    <div class="hidden name"><code>plot_wave_audio.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot wave channels of audio file</p>
<p>New plotting method</p>
<p>Original plotting method</p>
<p>Process Wave channel</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_wave_audio</span><span class="op">(</span></span>
<span>  <span class="va">audio_obj</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"wave_audio"</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"right"</span>, <span class="st">"stereo"</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fancy"</span>, <span class="st">"base"</span><span class="op">)</span>,</span>
<span>  include_info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  range_slider <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  inner_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  hollow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nr <span class="op">=</span> <span class="fl">4000</span>,</span>
<span>  plot_title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xunit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Time"</span>, <span class="st">"Samples"</span><span class="op">)</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_wave_channel_fancy</span><span class="op">(</span></span>
<span>  <span class="va">audio_data</span>,</span>
<span>  <span class="va">audio_params</span>,</span>
<span>  source <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Audio Channel"</span>,</span>
<span>  hollow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_y_axis <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  line_color <span class="op">=</span> <span class="st">"#1b5fa6"</span>,</span>
<span>  ft_color <span class="op">=</span> <span class="st">"lightgrey"</span>,</span>
<span>  bg_color <span class="op">=</span> <span class="st">"#252525"</span>,</span>
<span>  range_slider <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  inner_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  inner_line_color1 <span class="op">=</span> <span class="st">"#4d91c8"</span>,</span>
<span>  inner_line_color2 <span class="op">=</span> <span class="st">"#75b8ed"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_wave_channel_base</span><span class="op">(</span></span>
<span>  <span class="va">audio_data</span>,</span>
<span>  <span class="va">audio_params</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">process_wave_channel</span><span class="op">(</span><span class="va">audio_obj</span>, xunit <span class="op">=</span> <span class="st">"Time"</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span>, nr <span class="op">=</span> <span class="fl">2500</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>audio_obj</dt>
<dd><p>a <code>tuneR</code> audio object.</p></dd>


<dt>source</dt>
<dd><p>a character string of length 1. Match the value of this string
with the source argument in <code><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" class="external-link">plotly::plot_ly()</a></code> to respond to events
emitted from that specific plot. Only used if <code>format = "fancy"</code>.
See <code><a href="https://rdrr.io/pkg/plotly/man/event_data.html" class="external-link">?plotly::event_data</a></code> for more details.</p></dd>


<dt>type</dt>
<dd><p>channel to plot. One of <code>c("left", "right", "stereo")</code>.</p></dd>


<dt>format</dt>
<dd><p>format type. <code>"fancy"</code> is experimental and will eventually be
the main one used within the app.</p></dd>


<dt>include_info</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, append information
about the audio file.</p></dd>


<dt>range_slider</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, add a <code>rangeslider</code>.</p></dd>


<dt>inner_plot</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, add an inner plot consisting of two lines.</p></dd>


<dt>hollow</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, make the plot hollow. Only usable for <code>"fancy"</code> plots.</p></dd>


<dt>simplify</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). Whether to simplify large audio files. Defaults to <code>TRUE</code>.</p></dd>


<dt>nr</dt>
<dd><p>Number of lines to draw for simplified plots. Only takes affect if <code>simplify = TRUE</code>.</p></dd>


<dt>plot_title</dt>
<dd><p>a title for the plot (optional).</p></dd>


<dt>xunit</dt>
<dd><p>unit for x-axis. One of <code>c("Time", "Samples")</code>.</p></dd>


<dt>ylim</dt>
<dd><p>y-limit. Will be determined if not set.</p></dd>


<dt>xlab</dt>
<dd><p>label for x-axis. Defaults to <code>xunit</code> if not set.</p></dd>


<dt>ylab</dt>
<dd><p>label for y-axis. Will be determined if not set.</p></dd>


<dt>audio_data</dt>
<dd><p>Audio data returned from <code>process_wave_channel</code>.</p></dd>


<dt>audio_params</dt>
<dd><p>List of audio parameters returned from <code>process_wave_channel</code>.</p></dd>


<dt>show_y_axis</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, show the y-axis (limits only).</p></dd>


<dt>line_color</dt>
<dd><p>line color</p></dd>


<dt>ft_color</dt>
<dd><p>font color</p></dd>


<dt>bg_color</dt>
<dd><p>background color</p></dd>


<dt>inner_line_color1</dt>
<dd><p>line color of inner line 1</p></dd>


<dt>inner_line_color2</dt>
<dd><p>line color of inner line 2 (smallest of the three)</p></dd>


<dt>axes</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, add axes to the plot</p></dd>


<dt>center</dt>
<dd><p>Logical (<code>TRUE</code>/<code>FALSE</code>). If <code>TRUE</code>, center the plot</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code>plotly</code> object if <code>format = "fancy"</code>. Otherwise <code>NULL</code> invisibly</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>plot_wave_channel_base</code> and <code>process_wave_channel</code> were inspired by
<code>tuneR</code>'s plotting method for <code>wave</code> files:
<code>https://github.com/cran/tuneR/blob/master/R/plot-Wave.R</code></p>
<p>We want more control over the visual, the ability to plot the different wave channels,
and for the plot to be interactive, so this code had to be pulled out and refactored.
<code>plot_wave_channel_fancy</code> uses <code>plotly</code> to create a much nicer plot with additional
features.</p>
<p>Not sure if <code>source</code> will be supported for <code>stereo</code> types</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="add_play_tracker_line.html">add_play_tracker_line()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Read in audio file with `tuneR`</span></span></span>
<span class="r-in"><span><span class="va">audio_obj</span> <span class="op">&lt;-</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/readMP3.html" class="external-link">readMP3</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">EXAMPLE_AUDIO_DIR</span>, <span class="st">"flowers.mp3"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot variations</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_audio</span><span class="op">(</span><span class="va">audio_obj</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_audio</span><span class="op">(</span><span class="va">audio_obj</span>, format <span class="op">=</span> <span class="st">"base"</span><span class="op">)</span> <span class="co"># similar to `tuneR::plot()`</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_audio</span><span class="op">(</span><span class="va">audio_obj</span>, type <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_audio</span><span class="op">(</span><span class="va">audio_obj</span>, type <span class="op">=</span> <span class="st">"stereo"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_audio</span><span class="op">(</span><span class="va">audio_obj</span>, range_slider <span class="op">=</span> <span class="cn">FALSE</span>, include_info <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># step-wise (can only process one channel at a time - defaults to `audio_obj@left`)</span></span></span>
<span class="r-in"><span><span class="va">wave_channel</span> <span class="op">&lt;-</span> <span class="fu">process_wave_channel</span><span class="op">(</span><span class="va">audio_obj</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span>, nr <span class="op">=</span> <span class="fl">2500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_wave_channel_fancy</span><span class="op">(</span></span></span>
<span class="r-in"><span>    audio_data <span class="op">=</span> <span class="va">wave_channel</span><span class="op">$</span><span class="va">audio_data</span>,</span></span>
<span class="r-in"><span>    audio_params <span class="op">=</span> <span class="va">wave_channel</span><span class="op">$</span><span class="va">params</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kyle Barrett, Ashley Baldry, James Simpson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

